<style>
    :root{ --bg:#04060a; --muted:#98a6b6; --accent:#7c4dff;}
    body{font-family:Inter;background:linear-gradient(180deg,var(--bg), #031021);color:#eef6ff;}
    .container{padding-top:2.25rem;padding-bottom:2.25rem}
    .card{background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.03);}
    .muted{color:var(--muted)}

    .badge-balance{
    background: rgba(124,77,255,0.18);
    border: 1px solid rgba(124,77,255,0.45);
    color:#f8faff;
    border-radius: 999px;
    padding: .35rem .65rem;
    font-weight: 700;
    display:inline-flex;
    align-items:center;
    gap:.4rem;
  }
  </style>
 {{> header}}

<div class="container">
  <h4>My Orders</h4>
  <p class="muted">Danh sách đơn hàng của bạn.</p>

  <div class="card p-3 mt-3">
    <table class="table table-dark table-borderless mb-0">
      <thead>
        <tr class="muted small">
          <th>Order ID</th>
          <th>Items</th>
          <th>Total</th>
          <th>Status</th>
          <th>Date</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {{#each orders}}
          <tr>
            <td>#ORD-{{this.orderId}}</td>
            <td>
              {{#each this.items}}
                {{this.productId.title}} ×{{this.quantity}}<br>
              {{/each}}
            </td>
            <td>₫{{this.total}}</td>
            <td>
              {{#if (eq this.status "Completed")}}
                <span class="badge bg-success">Completed</span>
              {{else}}
                <span class="badge bg-warning text-dark">Pending</span>
              {{/if}}
            </td>
            <td>{{formatDate this.createdAt}}</td>
            <td>
              <a href="/view/orders/{{this._id}}" class="btn btn-sm btn-outline-light">View</a>
            </td>
          </tr>
        {{else}}
          <tr><td colspan="6" class="text-center muted">No orders found.</td></tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</div>